<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🧠 SQL Trainer - Subconsultas</title>
  <script src="https://cdn.tailwindcss.com"></script> 
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
  <link rel="stylesheet" href="css/main.css">
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen p-4 font-sans">

  <!-- Info Bar -->
  <div class="flex flex-wrap justify-between gap-4 mb-4 text-sm">
    <div class="flex items-center">
      🎯 Fase: <span id="phaseText" class="font-semibold ml-1">Crear Subconsulta</span>
    </div>
    <div class="relative inline-block text-left" id="dropdownMenu">
      <div>
        <button type="button" 
                class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50"
                id="menu-button"
                aria-expanded="false"
                aria-haspopup="true">
          🧠 SQL Trainer - SubConsultas
          <svg class="-mr-1 size-5 text-gray-400 transition-transform duration-200" 
               id="dropdownArrow"
               viewBox="0 0 20 20" 
               fill="currentColor" 
               aria-hidden="true" 
               data-slot="icon">
            <path fill-rule="evenodd" 
                  d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" 
                  clip-rule="evenodd" />
          </svg>
        </button>
      </div>
    
      <!-- Menú desplegable -->
      <div class="absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none hidden"
           id="dropdownMenuPanel"
           role="menu" 
           aria-orientation="vertical" 
           aria-labelledby="menu-button" 
           tabindex="-1">
        <div class="py-1" role="none">
          <a href="where.html" 
             class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" 
             role="menuitem" 
             tabindex="-1" 
             id="menu-item-0">🧠 SQL Trainer - Where</a>
          <a href="index.html" 
             class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" 
             role="menuitem" 
             tabindex="-1" 
             id="menu-item-1">🧠 SQL Trainer - Triggers</a>
          <a href="procedure.html" 
             class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" 
             role="menuitem" 
             tabindex="-1" 
             id="menu-item-1">🧠 SQL Trainer - Procedure</a>
          <a href="functions.html" 
             class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" 
             role="menuitem" 
             tabindex="-1" 
             id="menu-item-2">🧠 SQL Trainer - Functions</a>
        </div>
      </div>
    </div>
    <div class="flex items-center">
      🧬 Subconsulta: <span id="subqueryNameText" class="font-semibold ml-1">Subconsulta de Rango</span>
    </div>
    <div class="flex items-center">
      ⏳ Tiempo: <span id="timer" class="font-bold text-red-400 ml-1">60</span>s
    </div>
    <div class="flex items-center">
      🕹️ Nivel:
      <select id="difficulty" class="ml-1 p-1 bg-gray-700 text-white rounded text-sm">
        <option value="principiante">Principiante (2 min)</option>
        <option value="intermedio" selected>Intermedio (1 min)</option>
        <option value="avanzado">Avanzado (30 seg)</option>
      </select>
    </div>
    <div class="flex items-center">
      🏆 Puntos: <span id="score" class="font-bold text-green-400 ml-1">0</span>
    </div>
  </div>

  <!-- Enunciado -->
  <div id="enunciado" class="mb-6 p-4 bg-gray-800 shadow rounded font-semibold border border-gray-700">
    Cargando enunciado...
  </div>

  <!-- Fragments and Targets -->
  <div class="flex flex-col md:flex-row gap-4">
    <div id="fragments" class="md:w-1/3 bg-gray-800 p-4 rounded shadow space-y-2 border border-gray-700"></div>
    <div class="md:w-2/3 bg-gray-800 p-4 rounded shadow border border-gray-700">
      <h2 class="font-semibold mb-2">Completa la estructura aquí:</h2>
      <div id="targets" class="space-y-2"></div>
    </div>
  </div>

  <!-- Botón reiniciar -->
  <button id="restartBtn" class="mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-all">🔁 Reiniciar Ejercicio</button>
  
  <!-- Sonidos -->
  <audio id="correctSound" src="sound/button-30.wav"  preload="auto"></audio>
  <audio id="wrongSound" src="sound/button-10.wav"  preload="auto"></audio>

  <script src="js/sub.js"></script>
  <script src="js/dropdown.js"></script>
</body>
</html>
